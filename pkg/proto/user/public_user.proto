syntax = "proto3";

package user_int;

option go_package = "/pubuser";

import "google/api/annotations.proto";

message UserData {
  string FullName = 1;
  string Email = 2;
  optional string UserID = 3;
}

message CourseData {
  string CourseID = 1;
  string CourseName = 2;
}

message GroupData {
  string GroupID = 1;
  string GroupName = 2;
}

service User {
  rpc GetMyProfile(GetMyProfileRequest) returns (GetMyProfileResponse) {
    option (google.api.http) = {
      get: "/users/{UserID}/get"
    };
  };
  rpc GetMyCourses(GetMyCoursesRequest) returns (GetMyCoursesResponse) {
    option (google.api.http) = {
      get: "/users/{UserID}/courses"
    };
  };

  rpc StudentGetCourseTeachers(StudentGetCourseTeachersRequest) returns (StudentGetCourseTeachersResponse) {
    option (google.api.http) = {
      get: "/users/{CourseID}/teacher/get"
    };
  };

  rpc TeacherGetCourseGroups(TeacherGetCourseGroupsRequest) returns (TeacherGetCourseGroupsResponse) {
    option (google.api.http) = {
      get: "/users/{CourseID}/get"
    };
  };

  rpc TeacherGetGroupStudents(TeacherGetGroupStudentsRequest) returns (TeacherGetGroupStudentsResponse) {
    option (google.api.http) = {
      get: "/users/{GroupID}/get"
    };
  };
}

message GetMyProfileRequest {
  string UserID = 1;
}

message GetMyProfileResponse {
  UserData ProfileData = 1;
}

message GetMyCoursesRequest {
  string UserID = 1;
}

message GetMyCoursesResponse {
  repeated CourseData Courses = 1;
}

message StudentGetCourseTeachersRequest {
  string CourseID = 1;
}

message StudentGetCourseTeachersResponse {
  repeated UserData TeachersData = 1;
}

message TeacherGetCourseGroupsRequest {
  string CourseID = 1;
}

message TeacherGetCourseGroupsResponse {
  repeated GroupData Groups = 1;
}

message TeacherGetGroupStudentsRequest {
  string GroupID = 1;
}

message TeacherGetGroupStudentsResponse {
  repeated UserData StudentsData = 1;
}